version: 1.0
runtime: nodejs22
build:
  commands:
    build:
      - npm install --legacy-peer-deps
      - npm run build
run:
  runtime-version: 22.17.0
  command: npm start
  network:
    port: 3001
    env: PORT
  env:
    - name: NODE_ENV
      value: production
    - name: AWS_REGION
      value: ap-southeast-3
    - name: DATABASE_URL
      value: postgresql://neondb_owner:npg_Fx4JdrkfmbU9@ep-spring-breeze-a167x8af-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require